import{a as ie}from"./chunk-BTH7EP3S.js";import"./chunk-KCYCIDWO.js";import{B as K,C as Q,E as U,F as X,G as Y,I as Z,J as $,K as ee,c as q,f as N,g as j,n as H,p as A,r as z,s as G,t as J}from"./chunk-BKSPUT4V.js";import"./chunk-PIU5UDQ6.js";import"./chunk-D7YN4OJI.js";import"./chunk-5GUBFEH3.js";import"./chunk-4PGTP63H.js";import"./chunk-B3GVBKL3.js";import"./chunk-HC6MZPB3.js";import"./chunk-DYTQHTWS.js";import"./chunk-FERD25SW.js";import"./chunk-YYX6ZCUM.js";import"./chunk-EQKTRDAQ.js";import"./chunk-MM5QLNJM.js";import"./chunk-72KDLSWN.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-KRKXOG46.js";import"./chunk-MCRJI3T3.js";import"./chunk-5F3K422G.js";import"./chunk-Y2IKLLDI.js";import{$ as c,$a as B,F as m,G as M,H as t,I as o,J as y,N as S,O as P,Ua as W,Va as R,W as v,Wa as O,X as r,Xa as k,Ya as F,Z as I,_ as u,aa as h,db as D,ia as T,n as d,na as E,o as g,ra as x,sa as V,w as l,wa as L,x as b,z as _}from"./chunk-I3YUSPIV.js";import"./chunk-RZ5T5SE5.js";import"./chunk-O33TUF6J.js";import"./chunk-67S4WPSR.js";import"./chunk-F7XBNY6P.js";import"./chunk-5S5ELBDR.js";import"./chunk-LRNV46AZ.js";import"./chunk-6FMIVMID.js";import"./chunk-JJQUOQDV.js";import"./chunk-JWIEPCRG.js";import"./chunk-LF5XB4YN.js";import{i as f}from"./chunk-OYAVQN5W.js";var pe=(()=>{let p=class p{constructor(a,n,e,s){this.router=a,this.authService=n,this.loadingController=e,this.toastController=s,this.name="",this.email="",this.password="",this.confirmPassword="",this.userType="",this.phone="",this.isLoading=!1}ngOnInit(){this.userType=localStorage.getItem("userType")||""}onSubmit(){return f(this,null,function*(){if(!this.name||!this.email||!this.password||!this.confirmPassword){this.presentToast("Por favor, preencha todos os campos.");return}if(this.password!==this.confirmPassword){this.presentToast("As senhas n\xE3o coincidem.");return}yield this.presentLoading("Registrando...");let a={name:this.name,email:this.email,password:this.password};this.authService.register(a).subscribe(n=>{this.dismissLoading(),console.log("Registro bem-sucedido:",n),this.presentToast("Registro realizado com sucesso! Verifique seu email."),setTimeout(()=>{this.router.navigate(["/verify-email"],{queryParams:{email:this.email}})},1500)},n=>{this.dismissLoading(),console.error("Erro no registro:",n);let e="Ocorreu um erro durante o registro.";n.error&&n.error.message&&(e=n.error.message),this.presentToast(e)})})}isFormValid(){return!!this.name&&!!this.email&&!!this.password&&!!this.confirmPassword&&this.password===this.confirmPassword&&this.password.length>=6}presentLoading(a){return f(this,null,function*(){this.isLoading=!0,yield(yield this.loadingController.create({message:a,spinner:"circles"})).present()})}dismissLoading(){return f(this,null,function*(){this.isLoading=!1,yield this.loadingController.dismiss()})}presentToast(a){return f(this,null,function*(){yield(yield this.toastController.create({message:a,duration:3e3,position:"bottom",color:a.includes("sucesso")?"success":"danger"})).present()})}};p.\u0275fac=function(n){return new(n||p)(b(x),b(ie),b(Z),b($))},p.\u0275cmp=_({type:p,selectors:[["app-register"]],decls:41,vars:14,consts:[["registerForm","ngForm"],["slot","start"],["defaultHref","/"],[1,"ion-padding"],[1,"register-form",3,"ngSubmit"],[1,"ion-text-center"],[1,"ion-margin-vertical"],["position","floating"],["type","text","name","name","required","","autocomplete","name",3,"ngModelChange","ngModel"],["type","email","name","email","required","","autocomplete","email",3,"ngModelChange","ngModel"],["type","tel","name","phone","required","","autocomplete","tel",3,"ngModelChange","ngModel"],["type","password","name","password","required","","autocomplete","new-password",3,"ngModelChange","ngModel"],["type","password","name","confirmPassword","required","","autocomplete","new-password",3,"ngModelChange","ngModel"],["expand","block","type","submit",3,"disabled"],[1,"ion-text-center","ion-margin-vertical"],["color","medium"],["routerLink","/login"]],template:function(n,e){if(n&1){let s=S();t(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),y(3,"ion-back-button",2),o(),t(4,"ion-title"),r(5,"Cadastro"),o()()(),t(6,"ion-content",3)(7,"form",4,0),P("ngSubmit",function(){return d(s),g(e.onSubmit())}),t(9,"h1",5),r(10,"Criar Conta"),o(),t(11,"p",5),r(12),o(),t(13,"ion-item",6)(14,"ion-label",7),r(15,"Nome Completo"),o(),t(16,"ion-input",8),h("ngModelChange",function(i){return d(s),c(e.name,i)||(e.name=i),g(i)}),o()(),t(17,"ion-item",6)(18,"ion-label",7),r(19,"E-mail"),o(),t(20,"ion-input",9),h("ngModelChange",function(i){return d(s),c(e.email,i)||(e.email=i),g(i)}),o()(),t(21,"ion-item",6)(22,"ion-label",7),r(23,"Telefone"),o(),t(24,"ion-input",10),h("ngModelChange",function(i){return d(s),c(e.phone,i)||(e.phone=i),g(i)}),o()(),t(25,"ion-item",6)(26,"ion-label",7),r(27,"Senha"),o(),t(28,"ion-input",11),h("ngModelChange",function(i){return d(s),c(e.password,i)||(e.password=i),g(i)}),o()(),t(29,"ion-item",6)(30,"ion-label",7),r(31,"Confirmar Senha"),o(),t(32,"ion-input",12),h("ngModelChange",function(i){return d(s),c(e.confirmPassword,i)||(e.confirmPassword=i),g(i)}),o()(),t(33,"div",6)(34,"ion-button",13),r(35," Cadastrar "),o()(),t(36,"div",14)(37,"ion-text",15),r(38," J\xE1 tem uma conta? "),t(39,"a",16),r(40,"Fa\xE7a login"),o()()()()()}if(n&2){let s=v(8);l(3),m("aria-label","Voltar para p\xE1gina inicial"),l(9),I("",e.userType==="patient"?"Idoso":"Cuidador",", crie sua conta"),l(4),u("ngModel",e.name),m("aria-label","Digite seu nome completo"),l(4),u("ngModel",e.email),m("aria-label","Digite seu email"),l(4),u("ngModel",e.phone),m("aria-label","Digite seu telefone"),l(4),u("ngModel",e.password),m("aria-label","Digite sua senha"),l(4),u("ngModel",e.confirmPassword),m("aria-label","Confirme sua senha"),l(2),M("disabled",!s.form.valid||e.password!==e.confirmPassword),l(5),m("aria-label","Ir para p\xE1gina de login")}},dependencies:[ee,N,j,H,A,z,G,J,K,Q,U,q,X,Y,D,F,W,R,B,k,O,T,L,V,E],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: #FFD700}.register-form[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background:#fff;border-radius:16px;box-shadow:0 4px 12px #0000001a}ion-item[_ngcontent-%COMP%]{--background: white;--padding-start: 0;--border-color: var(--ion-color-medium);--highlight-height: 1px;margin-bottom:16px;border-radius:8px}ion-item.item-has-focus[_ngcontent-%COMP%]{--highlight-background: var(--ion-color-primary)}ion-button[_ngcontent-%COMP%]{margin-top:24px;--border-radius: 8px}h1[_ngcontent-%COMP%]{margin-bottom:8px;font-size:24px;font-weight:600;color:#000}p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:24px}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--ion-color-primary);font-weight:500}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]});let C=p;return C})();export{pe as RegisterPage};
